{"text":"<|user|>Is this approach correct for MCP: Outcomes Over Operations?\n\ntrack_latest_order(email) - bundles user lookup, order fetch, and status check<|assistant|>Yes, this follows the guideline. Design MCP tools for complete workflows, not atomic API operations. One tool should equal one 'agent story' - a complete task the agent wants to accomplish. Don't make the agent orchestrate multiple tool calls when you can bundle the logic server-side. Agents are slow and expensive orchestrators; if you know the workflow, implement it in code.<|end|>","metadata":{"type":"example_validation","exampleType":"good"}}
{"text":"<|user|>How should I handle always-use-typescript-strict?<|assistant|>Always use TypeScript strict mode for all new files. Enable noImplicitAny and strictNullChecks.<|end|>","metadata":{"type":"validation_query","category":"code_style","priority":100}}
{"text":"<|user|>Is this approach correct for MCP: Respect the Token Budget?\n\nCore tools with focused descriptions<|assistant|>Yes, this follows the guideline. Keep total tools per agent under 50. Each tool's schema + description consumes context on every handshake. With 200k token context and 800 tools, each tool gets ~250 tokens total - including schema. Prefer 5-15 tools when possible. Token budget is the only hard constraint - violating it makes your server unusable.<|end|>","metadata":{"type":"example_validation","exampleType":"good"}}
{"text":"<|user|>I need guidance on always-wrap-db-changes-in-transaction. What should I know?<|assistant|>Here's the guideline: Always wrap related database changes in a transaction block<|end|>","metadata":{"type":"contextual_query","category":"architecture","priority":100}}
{"text":"<|user|>How should I handle mcp: respect the token budget?<|assistant|>Keep total tools per agent under 50. Each tool's schema + description consumes context on every handshake. With 200k token context and 800 tools, each tool gets ~250 tokens total - including schema. Prefer 5-15 tools when possible. Token budget is the only hard constraint - violating it makes your server unusable.<|end|>","metadata":{"type":"validation_query","category":"mcp-design","priority":95}}
{"text":"<|user|>What is the guideline for \"Transaction Safety Pattern\"?<|assistant|>Wrap multi-entry operations in `transactionWithDb()`. For SQLite: promises must resolve synchronously within transaction. For PostgreSQL: automatic retry on transient errors. Re-check for existing entries inside transaction for TOCTOU safety (Bug #30).<|end|>","metadata":{"type":"direct_query","category":"database","priority":90}}
{"text":"<|user|>I need guidance on typescript-strict-mode. What should I know?<|assistant|>Here's the guideline: Enable TypeScript strict mode in all projects<|end|>","metadata":{"type":"contextual_query","category":"code_style","priority":90}}
{"text":"<|user|>What is the guideline for \"always-wrap-db-changes-in-transaction\"?<|assistant|>Always wrap related database changes in a transaction block<|end|>","metadata":{"type":"direct_query","category":"architecture","priority":100}}
{"text":"<|user|>Is this approach correct for MCP: Respect the Token Budget?\n\nGitHub server ships 200k tokens on handshake<|assistant|>No, this violates the guideline. The correct approach is: Keep total tools per agent under 50. Each tool's schema + description consumes context on every handshake. With 200k token context and 800 tools, each tool gets ~250 tokens total - including schema. Prefer 5-15 tools when possible. Token budget is the only hard constraint - violating it makes your server unusable.<|end|>","metadata":{"type":"example_validation","exampleType":"bad"}}
{"text":"<|user|>Is this approach correct for MCP: Curate Ruthlessly?\n\nShipping REST API wrapper to production<|assistant|>No, this violates the guideline. The correct approach is: Start with what works, then tear it down to essentials. Don't just wrap REST APIs as MCP tools - that violates every design principle. Name tools for the agent (clear intent), not for developers (technical accuracy). Remove tools that aren't essential; each additional tool degrades performance.<|end|>","metadata":{"type":"example_validation","exampleType":"bad"}}