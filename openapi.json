{
  "openapi": "3.0.3",
  "info": {
    "title": "Agent Memory REST API",
    "version": "0.9.8",
    "description": "REST API for Agent Memory - Structured memory backend for AI agents.\n\nThis API provides access to all MCP (Model Context Protocol) tools via HTTP endpoints.\nEach tool is accessible at `/v1/tools/{toolName}` with a POST request containing\nthe action and parameters.\n\n## Authentication\nThe API supports two authentication methods:\n- **Bearer Token**: Pass JWT token in Authorization header\n- **API Key**: Pass API key in X-API-Key header\n\n## Rate Limiting\nAll endpoints are subject to rate limiting. Default limits:\n- 100 requests per minute per IP\n- 1000 requests per hour per API key\n\n## Error Codes\n- E1000-E1999: Validation errors\n- E2000-E2999: Not found errors\n- E3000-E3999: Conflict errors\n- E4000-E4999: Business logic errors\n- E5000-E5999: Database errors\n- E6000-E6999: Permission errors\n- E9000-E9999: Rate limiting and system errors\n",
    "contact": {
      "name": "Agent Memory",
      "url": "https://github.com/cyanheads/agent-memory"
    },
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "servers": [
    {
      "url": "http://localhost:3100",
      "description": "Local development server"
    }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      },
      "apiKey": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key"
      }
    }
  },
  "paths": {
    "/v1/tools": {
      "get": {
        "summary": "List all available tools",
        "description": "Returns a list of all MCP tools available in the system",
        "operationId": "listTools",
        "tags": [
          "tools"
        ],
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object",
                      "properties": {
                        "tools": {
                          "type": "array",
                          "items": {
                            "type": "object",
                            "properties": {
                              "name": {
                                "type": "string"
                              },
                              "description": {
                                "type": "string"
                              },
                              "inputSchema": {
                                "type": "object"
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {
                    "tools": [
                      {
                        "name": "memory_knowledge",
                        "description": "Manage knowledge entries",
                        "inputSchema": {}
                      }
                    ]
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/openapi.json": {
      "get": {
        "summary": "Get OpenAPI specification",
        "description": "Returns the OpenAPI 3.0 specification for this API",
        "operationId": "getOpenAPISpec",
        "tags": [
          "meta"
        ],
        "responses": {
          "200": {
            "description": "OpenAPI specification",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object"
                }
              }
            }
          }
        }
      }
    },
    "/v1/tools/memory_org": {
      "post": {
        "summary": "Manage organizations. Actions: create, list",
        "description": "Manage organizations. Actions: create, list",
        "operationId": "memory_org",
        "tags": [
          "org"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "limit": {
                    "type": "number",
                    "description": "Max results (list, default 20)"
                  },
                  "offset": {
                    "type": "number",
                    "description": "Skip N results (list)"
                  },
                  "name": {
                    "type": "string",
                    "description": "Organization name (create)"
                  },
                  "metadata": {
                    "type": "object",
                    "description": "Optional metadata (create)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "create",
                      "list"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_project": {
      "post": {
        "summary": "Manage projects. Actions: create, list, get, update",
        "description": "Manage projects. Actions: create, list, get, update",
        "operationId": "memory_project",
        "tags": [
          "project"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Project ID (get, update)"
                  },
                  "name": {
                    "type": "string",
                    "description": "Project name"
                  },
                  "orgId": {
                    "type": "string",
                    "description": "Parent organization ID"
                  },
                  "description": {
                    "type": "string",
                    "description": "Project description"
                  },
                  "rootPath": {
                    "type": "string",
                    "description": "Filesystem root path"
                  },
                  "metadata": {
                    "type": "object",
                    "description": "Optional metadata"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "create",
                      "list",
                      "get",
                      "update",
                      "delete"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_session": {
      "post": {
        "summary": "Manage working sessions (group related work together).",
        "description": "Manage working sessions (group related work together).\n\nActions: start, end, list\n\nWorkflow: Start a session at beginning of a task, end when complete. Sessions group related memory entries.\nExample: {\"action\":\"start\",\"projectId\":\"proj-123\",\"name\":\"Add auth feature\",\"purpose\":\"Implement user authentication\"}",
        "operationId": "memory_session",
        "tags": [
          "session"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "projectId": {
                    "type": "string",
                    "description": "Parent project ID (start)"
                  },
                  "name": {
                    "type": "string",
                    "description": "Session name (start)"
                  },
                  "purpose": {
                    "type": "string",
                    "description": "Session purpose (start)"
                  },
                  "agentId": {
                    "type": "string",
                    "description": "Agent/IDE identifier (start)"
                  },
                  "metadata": {
                    "type": "object",
                    "description": "Session metadata (start)"
                  },
                  "id": {
                    "type": "string",
                    "description": "Session ID (end)"
                  },
                  "status": {
                    "type": "string",
                    "description": "End status (end) or filter (list)",
                    "enum": [
                      "completed",
                      "discarded",
                      "active",
                      "paused"
                    ]
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "start",
                      "end",
                      "list"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_tool": {
      "post": {
        "summary": "Manage tool definitions (store reusable tool patterns for future reference).",
        "description": "Manage tool definitions (store reusable tool patterns for future reference).\n\nActions: add, update, get, list, history, deactivate, delete, bulk_add, bulk_update, bulk_delete\n\nWhen to store: After successfully using a tool/command that could be reused.\nExample: {\"action\":\"add\",\"name\":\"docker-build\",\"description\":\"Build Docker image\",\"scopeType\":\"project\",\"category\":\"cli\"}",
        "operationId": "memory_tool",
        "tags": [
          "tool"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Tool ID"
                  },
                  "name": {
                    "type": "string",
                    "description": "Tool name"
                  },
                  "scopeType": {
                    "type": "string",
                    "description": "Scope level",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string",
                    "description": "Scope ID"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "mcp",
                      "cli",
                      "function",
                      "api"
                    ]
                  },
                  "description": {
                    "type": "string",
                    "description": "What this tool does"
                  },
                  "parameters": {
                    "type": "object",
                    "description": "Parameter schema"
                  },
                  "examples": {
                    "type": "array",
                    "description": "Usage examples"
                  },
                  "constraints": {
                    "type": "string",
                    "description": "Usage constraints"
                  },
                  "createdBy": {
                    "type": "string",
                    "description": "Creator identifier"
                  },
                  "changeReason": {
                    "type": "string",
                    "description": "Reason for update"
                  },
                  "updatedBy": {
                    "type": "string"
                  },
                  "inherit": {
                    "type": "boolean",
                    "description": "Search parent scopes (default true)"
                  },
                  "includeInactive": {
                    "type": "boolean"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "add",
                      "update",
                      "get",
                      "list",
                      "history",
                      "deactivate",
                      "delete",
                      "bulk_add",
                      "bulk_update",
                      "bulk_delete"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_guideline": {
      "post": {
        "summary": "Manage coding/behavioral guidelines (rules the AI should follow).",
        "description": "Manage coding/behavioral guidelines (rules the AI should follow).\n\nActions: add, update, get, list, history, deactivate, delete, bulk_add, bulk_update, bulk_delete\n\nWhen to store: When user establishes a coding standard, pattern preference, or rule.\nExample: {\"action\":\"add\",\"name\":\"no-any\",\"content\":\"Never use 'any' type\",\"scopeType\":\"project\",\"category\":\"code_style\",\"priority\":90}",
        "operationId": "memory_guideline",
        "tags": [
          "guideline"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Guideline ID"
                  },
                  "name": {
                    "type": "string",
                    "description": "Guideline name"
                  },
                  "scopeType": {
                    "type": "string",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string",
                    "description": "Category (e.g., security, code_style)"
                  },
                  "priority": {
                    "type": "number",
                    "description": "Priority 0-100"
                  },
                  "content": {
                    "type": "string",
                    "description": "The guideline text"
                  },
                  "rationale": {
                    "type": "string",
                    "description": "Why this guideline exists"
                  },
                  "examples": {
                    "type": "object",
                    "properties": {
                      "bad": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "good": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "createdBy": {
                    "type": "string"
                  },
                  "changeReason": {
                    "type": "string"
                  },
                  "updatedBy": {
                    "type": "string"
                  },
                  "inherit": {
                    "type": "boolean"
                  },
                  "includeInactive": {
                    "type": "boolean"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "add",
                      "update",
                      "get",
                      "list",
                      "history",
                      "deactivate",
                      "delete",
                      "bulk_add",
                      "bulk_update",
                      "bulk_delete"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_knowledge": {
      "post": {
        "summary": "Manage knowledge entries (facts, decisions, context to remember).",
        "description": "Manage knowledge entries (facts, decisions, context to remember).\n\nActions: add, update, get, list, history, deactivate, delete, bulk_add, bulk_update, bulk_delete\n\nWhen to store: After making a decision, learning a fact, or establishing context worth remembering.\nExample: {\"action\":\"add\",\"title\":\"API uses REST\",\"content\":\"This project uses REST API, not GraphQL\",\"scopeType\":\"project\",\"category\":\"decision\"}",
        "operationId": "memory_knowledge",
        "tags": [
          "knowledge"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "description": "Knowledge ID"
                  },
                  "title": {
                    "type": "string",
                    "description": "Knowledge title"
                  },
                  "scopeType": {
                    "type": "string",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "decision",
                      "fact",
                      "context",
                      "reference"
                    ]
                  },
                  "content": {
                    "type": "string",
                    "description": "The knowledge content"
                  },
                  "source": {
                    "type": "string",
                    "description": "Where this knowledge came from"
                  },
                  "confidence": {
                    "type": "number",
                    "description": "Confidence level 0-1"
                  },
                  "validUntil": {
                    "type": "string",
                    "description": "Expiration date (ISO format)"
                  },
                  "createdBy": {
                    "type": "string"
                  },
                  "changeReason": {
                    "type": "string"
                  },
                  "updatedBy": {
                    "type": "string"
                  },
                  "inherit": {
                    "type": "boolean"
                  },
                  "includeInactive": {
                    "type": "boolean"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "add",
                      "update",
                      "get",
                      "list",
                      "history",
                      "deactivate",
                      "delete",
                      "bulk_add",
                      "bulk_update",
                      "bulk_delete"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_tag": {
      "post": {
        "summary": "Manage tags. Actions: create, list, attach, detach, for_entry",
        "description": "Manage tags. Actions: create, list, attach, detach, for_entry",
        "operationId": "memory_tag",
        "tags": [
          "tag"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentId": {
                    "type": "string",
                    "description": "Agent identifier for access control/auditing"
                  },
                  "name": {
                    "type": "string",
                    "description": "Tag name (unique)"
                  },
                  "category": {
                    "type": "string",
                    "enum": [
                      "language",
                      "domain",
                      "category",
                      "meta",
                      "custom"
                    ]
                  },
                  "description": {
                    "type": "string"
                  },
                  "entryType": {
                    "type": "string",
                    "enum": [
                      "tool",
                      "guideline",
                      "knowledge",
                      "project"
                    ]
                  },
                  "entryId": {
                    "type": "string"
                  },
                  "tagId": {
                    "type": "string",
                    "description": "Tag ID"
                  },
                  "tagName": {
                    "type": "string",
                    "description": "Tag name (creates if not exists)"
                  },
                  "isPredefined": {
                    "type": "boolean"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "create",
                      "list",
                      "attach",
                      "detach",
                      "for_entry"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_relation": {
      "post": {
        "summary": "Manage entry relations. Actions: create, list, delete",
        "description": "Manage entry relations. Actions: create, list, delete",
        "operationId": "memory_relation",
        "tags": [
          "relation"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentId": {
                    "type": "string",
                    "description": "Agent identifier for access control/auditing"
                  },
                  "id": {
                    "type": "string",
                    "description": "Relation ID (delete)"
                  },
                  "sourceType": {
                    "type": "string",
                    "enum": [
                      "tool",
                      "guideline",
                      "knowledge",
                      "project"
                    ]
                  },
                  "sourceId": {
                    "type": "string"
                  },
                  "targetType": {
                    "type": "string",
                    "enum": [
                      "tool",
                      "guideline",
                      "knowledge",
                      "project"
                    ]
                  },
                  "targetId": {
                    "type": "string"
                  },
                  "relationType": {
                    "type": "string",
                    "enum": [
                      "applies_to",
                      "depends_on",
                      "conflicts_with",
                      "related_to",
                      "parent_task",
                      "subtask_of"
                    ]
                  },
                  "createdBy": {
                    "type": "string"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "create",
                      "list",
                      "delete"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_file_lock": {
      "post": {
        "summary": "Manage file locks for multi-agent coordination. Actions: checkout, checkin, status, list, force_unlock",
        "description": "Manage file locks for multi-agent coordination. Actions: checkout, checkin, status, list, force_unlock",
        "operationId": "memory_file_lock",
        "tags": [
          "file"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "file_path": {
                    "type": "string",
                    "description": "Absolute filesystem path to the file"
                  },
                  "agent_id": {
                    "type": "string",
                    "description": "Agent/IDE identifier"
                  },
                  "session_id": {
                    "type": "string",
                    "description": "Optional session reference"
                  },
                  "project_id": {
                    "type": "string",
                    "description": "Optional project reference"
                  },
                  "expires_in": {
                    "type": "number",
                    "description": "Lock timeout in seconds (default 3600)"
                  },
                  "metadata": {
                    "type": "object",
                    "description": "Optional metadata"
                  },
                  "reason": {
                    "type": "string",
                    "description": "Reason for force unlock"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "checkout",
                      "checkin",
                      "status",
                      "list",
                      "force_unlock"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_query": {
      "post": {
        "summary": "Query and aggregate memory. **IMPORTANT: Call this FIRST at conversation start with action:\"context\" to load project context.**",
        "description": "Query and aggregate memory. **IMPORTANT: Call this FIRST at conversation start with action:\"context\" to load project context.**\n\nActions:\n- context: Get aggregated context for a scope (RECOMMENDED FIRST CALL)\n- search: Cross-reference search with filters\n\nQuick start: {\"action\":\"context\",\"scopeType\":\"project\",\"inherit\":true}",
        "operationId": "memory_query",
        "tags": [
          "query"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentId": {
                    "type": "string",
                    "description": "Agent identifier for access control/auditing"
                  },
                  "types": {
                    "type": "array",
                    "description": "Which sections to search (search)",
                    "items": {
                      "type": "string",
                      "enum": [
                        "tools",
                        "guidelines",
                        "knowledge"
                      ]
                    }
                  },
                  "scope": {
                    "type": "object",
                    "description": "Scope to search within (search)",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "global",
                          "org",
                          "project",
                          "session"
                        ]
                      },
                      "id": {
                        "type": "string"
                      },
                      "inherit": {
                        "type": "boolean"
                      }
                    }
                  },
                  "tags": {
                    "type": "object",
                    "description": "Tag filters (search)",
                    "properties": {
                      "include": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "require": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      },
                      "exclude": {
                        "type": "array",
                        "items": {
                          "type": "string"
                        }
                      }
                    }
                  },
                  "search": {
                    "type": "string",
                    "description": "Free-text search (search)"
                  },
                  "relatedTo": {
                    "type": "object",
                    "description": "Find related entries (search)",
                    "properties": {
                      "type": {
                        "type": "string",
                        "enum": [
                          "tool",
                          "guideline",
                          "knowledge",
                          "project"
                        ]
                      },
                      "id": {
                        "type": "string"
                      },
                      "relation": {
                        "type": "string",
                        "enum": [
                          "applies_to",
                          "depends_on",
                          "conflicts_with",
                          "related_to"
                        ]
                      },
                      "depth": {
                        "type": "number",
                        "description": "Max traversal depth 1-5 (default: 1)"
                      },
                      "direction": {
                        "type": "string",
                        "description": "Traversal direction (default: both)",
                        "enum": [
                          "forward",
                          "backward",
                          "both"
                        ]
                      },
                      "maxResults": {
                        "type": "number",
                        "description": "Limit results from traversal (default: 100)"
                      }
                    }
                  },
                  "followRelations": {
                    "type": "boolean",
                    "description": "Expand search results to include related entries"
                  },
                  "includeVersions": {
                    "type": "boolean",
                    "description": "Include version history (search)"
                  },
                  "includeInactive": {
                    "type": "boolean",
                    "description": "Include inactive entries (search)"
                  },
                  "useFts5": {
                    "type": "boolean",
                    "description": "Use FTS5 full-text search instead of LIKE queries (default: false)"
                  },
                  "fields": {
                    "type": "array",
                    "description": "Field-specific search: [\"name\", \"description\"]",
                    "items": {
                      "type": "string"
                    }
                  },
                  "fuzzy": {
                    "type": "boolean",
                    "description": "Enable typo tolerance (Levenshtein distance)"
                  },
                  "createdAfter": {
                    "type": "string",
                    "description": "Filter by creation date (ISO timestamp)"
                  },
                  "createdBefore": {
                    "type": "string",
                    "description": "Filter by creation date (ISO timestamp)"
                  },
                  "updatedAfter": {
                    "type": "string",
                    "description": "Filter by update date (ISO timestamp)"
                  },
                  "updatedBefore": {
                    "type": "string",
                    "description": "Filter by update date (ISO timestamp)"
                  },
                  "priority": {
                    "type": "object",
                    "description": "Filter guidelines by priority range (0-100)",
                    "properties": {
                      "min": {
                        "type": "number"
                      },
                      "max": {
                        "type": "number"
                      }
                    }
                  },
                  "regex": {
                    "type": "boolean",
                    "description": "Use regex instead of simple match"
                  },
                  "semanticSearch": {
                    "type": "boolean",
                    "description": "Enable semantic/vector search (default: true if embeddings available)"
                  },
                  "semanticThreshold": {
                    "type": "number",
                    "description": "Minimum similarity score for semantic results (0-1, default: 0.7)"
                  },
                  "scopeType": {
                    "type": "string",
                    "description": "Scope type (context)",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string",
                    "description": "Scope ID (context)"
                  },
                  "inherit": {
                    "type": "boolean",
                    "description": "Include parent scopes (context, default true)"
                  },
                  "compact": {
                    "type": "boolean",
                    "description": "Return compact results"
                  },
                  "limit": {
                    "type": "number",
                    "description": "Max results (search) or per type (context as limitPerType)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "search",
                      "context"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_task": {
      "post": {
        "summary": "Manage task decomposition. Actions: add, get, list",
        "description": "Manage task decomposition. Actions: add, get, list",
        "operationId": "memory_task",
        "tags": [
          "task"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "parentTask": {
                    "type": "string",
                    "description": "ID of parent task (add)"
                  },
                  "subtasks": {
                    "type": "array",
                    "description": "Array of subtask descriptions/names (add)",
                    "items": {
                      "type": "string"
                    }
                  },
                  "decompositionStrategy": {
                    "type": "string",
                    "description": "Decomposition strategy (add)",
                    "enum": [
                      "maximal",
                      "balanced",
                      "minimal"
                    ]
                  },
                  "scopeType": {
                    "type": "string",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string"
                  },
                  "projectId": {
                    "type": "string",
                    "description": "For storing decomposition metadata (add)"
                  },
                  "createdBy": {
                    "type": "string"
                  },
                  "taskId": {
                    "type": "string",
                    "description": "Task ID (get)"
                  },
                  "parentTaskId": {
                    "type": "string",
                    "description": "Filter by parent task ID (list)"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "add",
                      "get",
                      "list"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_voting": {
      "post": {
        "summary": "Manage multi-agent voting and consensus. Actions: record_vote, get_consensus, list_votes, get_stats",
        "description": "Manage multi-agent voting and consensus. Actions: record_vote, get_consensus, list_votes, get_stats",
        "operationId": "memory_voting",
        "tags": [
          "voting"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "taskId": {
                    "type": "string",
                    "description": "Task ID (references knowledge/tool entry)"
                  },
                  "agentId": {
                    "type": "string",
                    "description": "Agent identifier"
                  },
                  "voteValue": {
                    "type": "object",
                    "description": "Agent vote value (any JSON-serializable value)"
                  },
                  "confidence": {
                    "type": "number",
                    "description": "Confidence level 0-1 (default: 1.0)"
                  },
                  "reasoning": {
                    "type": "string",
                    "description": "Reasoning for this vote"
                  },
                  "k": {
                    "type": "number",
                    "description": "Number of votes ahead required for consensus (default: 1)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "record_vote",
                      "get_consensus",
                      "list_votes",
                      "get_stats"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_analytics": {
      "post": {
        "summary": "Get usage analytics and trends from audit log. Actions: get_stats, get_trends, get_subtask_stats, get_error_correlation, get_low_diversity",
        "description": "Get usage analytics and trends from audit log. Actions: get_stats, get_trends, get_subtask_stats, get_error_correlation, get_low_diversity",
        "operationId": "memory_analytics",
        "tags": [
          "analytics"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scopeType": {
                    "type": "string",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string",
                    "description": "Scope ID to filter by"
                  },
                  "startDate": {
                    "type": "string",
                    "description": "Start date filter (ISO timestamp)"
                  },
                  "endDate": {
                    "type": "string",
                    "description": "End date filter (ISO timestamp)"
                  },
                  "projectId": {
                    "type": "string",
                    "description": "Project ID for subtask stats"
                  },
                  "subtaskType": {
                    "type": "string",
                    "description": "Filter by subtask type"
                  },
                  "agentA": {
                    "type": "string",
                    "description": "First agent ID for correlation"
                  },
                  "agentB": {
                    "type": "string",
                    "description": "Second agent ID for correlation"
                  },
                  "timeWindow": {
                    "type": "object",
                    "description": "Time window for correlation analysis",
                    "properties": {
                      "start": {
                        "type": "string"
                      },
                      "end": {
                        "type": "string"
                      }
                    }
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "get_stats",
                      "get_trends",
                      "get_subtask_stats",
                      "get_error_correlation",
                      "get_low_diversity"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_permission": {
      "post": {
        "summary": "Manage permissions. Actions: grant, revoke, check, list",
        "description": "Manage permissions. Actions: grant, revoke, check, list",
        "operationId": "memory_permission",
        "tags": [
          "permission"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "admin_key": {
                    "type": "string",
                    "description": "Admin key (grant, revoke, list)"
                  },
                  "agent_id": {
                    "type": "string",
                    "description": "Agent identifier (grant, revoke, check, list)"
                  },
                  "scope_type": {
                    "type": "string",
                    "description": "Scope type (grant, revoke, check, list)",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scope_id": {
                    "type": "string",
                    "description": "Scope ID (grant, revoke, check, list)"
                  },
                  "entry_type": {
                    "type": "string",
                    "description": "Entry type (grant, revoke, check, list)",
                    "enum": [
                      "tool",
                      "guideline",
                      "knowledge"
                    ]
                  },
                  "permission": {
                    "type": "string",
                    "description": "Permission level (grant)",
                    "enum": [
                      "read",
                      "write",
                      "admin"
                    ]
                  },
                  "created_by": {
                    "type": "string",
                    "description": "Creator identifier (grant)"
                  },
                  "permission_id": {
                    "type": "string",
                    "description": "Permission ID (revoke)"
                  },
                  "limit": {
                    "type": "number",
                    "description": "Max results (list, default: all)"
                  },
                  "offset": {
                    "type": "number",
                    "description": "Skip N results (list)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "grant",
                      "revoke",
                      "check",
                      "list"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_conflict": {
      "post": {
        "summary": "Manage version conflicts. Actions: list, resolve",
        "description": "Manage version conflicts. Actions: list, resolve",
        "operationId": "memory_conflict",
        "tags": [
          "conflict"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "entryType": {
                    "type": "string",
                    "description": "Filter by entry type (list)",
                    "enum": [
                      "tool",
                      "guideline",
                      "knowledge"
                    ]
                  },
                  "resolved": {
                    "type": "boolean",
                    "description": "Filter by resolved status (list, default: unresolved only)"
                  },
                  "id": {
                    "type": "string",
                    "description": "Conflict ID (resolve)"
                  },
                  "resolution": {
                    "type": "string",
                    "description": "Resolution description (resolve)"
                  },
                  "resolvedBy": {
                    "type": "string",
                    "description": "Who resolved it (resolve)"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "list",
                      "resolve"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_health": {
      "post": {
        "summary": "Check server health and database status. Returns version, database stats, and cache info.",
        "description": "Check server health and database status. Returns version, database stats, and cache info.\n\nUse this to verify the memory server is working or to get entry counts.",
        "operationId": "memory_health",
        "tags": [
          "health"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {}
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_backup": {
      "post": {
        "summary": "Manage database backups. Actions: create (create backup), list (list all backups), cleanup (remove old backups), restore (restore from backup)",
        "description": "Manage database backups. Actions: create (create backup), list (list all backups), cleanup (remove old backups), restore (restore from backup)",
        "operationId": "memory_backup",
        "tags": [
          "backup"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "admin_key": {
                    "type": "string",
                    "description": "Admin key (required)"
                  },
                  "name": {
                    "type": "string",
                    "description": "Custom backup name (create, optional)"
                  },
                  "keepCount": {
                    "type": "number",
                    "description": "Number of backups to keep (cleanup, default: 5)"
                  },
                  "filename": {
                    "type": "string",
                    "description": "Backup filename to restore (restore)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "create",
                      "list",
                      "cleanup",
                      "restore"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_init": {
      "post": {
        "summary": "Manage database initialization and migrations. Actions: init (initialize/migrate), status (check migration status), reset (reset database - WARNING: deletes all data)",
        "description": "Manage database initialization and migrations. Actions: init (initialize/migrate), status (check migration status), reset (reset database - WARNING: deletes all data)",
        "operationId": "memory_init",
        "tags": [
          "init"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "admin_key": {
                    "type": "string",
                    "description": "Admin key (required for init/reset)"
                  },
                  "force": {
                    "type": "boolean",
                    "description": "Force re-initialization even if already initialized (init)"
                  },
                  "verbose": {
                    "type": "boolean",
                    "description": "Enable verbose output (init, reset)"
                  },
                  "confirm": {
                    "type": "boolean",
                    "description": "Confirm database reset - required for reset action. WARNING: This deletes all data!"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "init",
                      "status",
                      "reset"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_export": {
      "post": {
        "summary": "Export memory entries to various formats. Actions: export",
        "description": "Export memory entries to various formats. Actions: export",
        "operationId": "memory_export",
        "tags": [
          "export"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "agentId": {
                    "type": "string",
                    "description": "Agent identifier for access control/auditing"
                  },
                  "admin_key": {
                    "type": "string",
                    "description": "Admin key (required when writing to disk)"
                  },
                  "format": {
                    "type": "string",
                    "description": "Export format (default: json)",
                    "enum": [
                      "json",
                      "markdown",
                      "yaml",
                      "openapi"
                    ]
                  },
                  "types": {
                    "type": "array",
                    "description": "Entry types to export (default: all)",
                    "items": {
                      "type": "string",
                      "enum": [
                        "tools",
                        "guidelines",
                        "knowledge"
                      ]
                    }
                  },
                  "scopeType": {
                    "type": "string",
                    "description": "Scope type to export from",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string",
                    "description": "Scope ID (required if scopeType specified)"
                  },
                  "tags": {
                    "type": "array",
                    "description": "Filter by tags (include entries with any of these tags)",
                    "items": {
                      "type": "string"
                    }
                  },
                  "includeVersions": {
                    "type": "boolean",
                    "description": "Include version history in export (default: false)"
                  },
                  "includeInactive": {
                    "type": "boolean",
                    "description": "Include inactive/deleted entries (default: false)"
                  },
                  "filename": {
                    "type": "string",
                    "description": "Optional filename to save export to configured export directory. If not provided, content is returned in response only."
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "export"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_import": {
      "post": {
        "summary": "Import memory entries from various formats. Actions: import",
        "description": "Import memory entries from various formats. Actions: import",
        "operationId": "memory_import",
        "tags": [
          "import"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "admin_key": {
                    "type": "string",
                    "description": "Admin key (required)"
                  },
                  "content": {
                    "type": "string",
                    "description": "Content to import (JSON string, YAML string, Markdown, or OpenAPI spec)"
                  },
                  "format": {
                    "type": "string",
                    "description": "Import format (default: json, auto-detected if possible)",
                    "enum": [
                      "json",
                      "yaml",
                      "markdown",
                      "openapi"
                    ]
                  },
                  "conflictStrategy": {
                    "type": "string",
                    "description": "How to handle conflicts with existing entries (default: update)",
                    "enum": [
                      "skip",
                      "update",
                      "replace",
                      "error"
                    ]
                  },
                  "scopeMapping": {
                    "type": "object",
                    "description": "Map scope IDs from import to target scopes: { \"oldScopeId\": { \"type\": \"org|project|session\", \"id\": \"newScopeId\" } }"
                  },
                  "generateNewIds": {
                    "type": "boolean",
                    "description": "Generate new IDs for imported entries instead of preserving originals (default: false)"
                  },
                  "importedBy": {
                    "type": "string",
                    "description": "Agent ID or identifier for audit trail"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "import"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action",
                  "content"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_conversation": {
      "post": {
        "summary": "Manage conversation history. Actions: start, add_message, get, list, update, link_context, get_context, search, end, archive",
        "description": "Manage conversation history. Actions: start, add_message, get, list, update, link_context, get_context, search, end, archive",
        "operationId": "memory_conversation",
        "tags": [
          "conversation"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sessionId": {
                    "type": "string",
                    "description": "Session ID (start)"
                  },
                  "projectId": {
                    "type": "string",
                    "description": "Project ID (start)"
                  },
                  "agentId": {
                    "type": "string",
                    "description": "Agent ID (start, add_message, etc.)"
                  },
                  "title": {
                    "type": "string",
                    "description": "Conversation title (start, update)"
                  },
                  "metadata": {
                    "type": "object",
                    "description": "Optional metadata (start, update)"
                  },
                  "conversationId": {
                    "type": "string",
                    "description": "Conversation ID (add_message, get, update, etc.)"
                  },
                  "role": {
                    "type": "string",
                    "description": "Message role (add_message)",
                    "enum": [
                      "user",
                      "agent",
                      "system"
                    ]
                  },
                  "content": {
                    "type": "string",
                    "description": "Message content (add_message)"
                  },
                  "contextEntries": {
                    "type": "array",
                    "description": "Memory entries used (add_message)"
                  },
                  "toolsUsed": {
                    "type": "array",
                    "description": "Tools invoked (add_message)"
                  },
                  "includeMessages": {
                    "type": "boolean",
                    "description": "Include messages (get)"
                  },
                  "includeContext": {
                    "type": "boolean",
                    "description": "Include context links (get)"
                  },
                  "status": {
                    "type": "string",
                    "description": "Filter by status (list)",
                    "enum": [
                      "active",
                      "completed",
                      "archived"
                    ]
                  },
                  "messageId": {
                    "type": "string",
                    "description": "Message ID (link_context)"
                  },
                  "entryType": {
                    "type": "string",
                    "description": "Entry type (link_context, get_context)",
                    "enum": [
                      "tool",
                      "guideline",
                      "knowledge"
                    ]
                  },
                  "entryId": {
                    "type": "string",
                    "description": "Entry ID (link_context, get_context)"
                  },
                  "relevanceScore": {
                    "type": "number",
                    "description": "Relevance score 0-1 (link_context)"
                  },
                  "search": {
                    "type": "string",
                    "description": "Search query (search)"
                  },
                  "generateSummary": {
                    "type": "boolean",
                    "description": "Generate summary when ending (end)"
                  },
                  "limit": {
                    "type": "number"
                  },
                  "offset": {
                    "type": "number"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "start",
                      "add_message",
                      "get",
                      "list",
                      "update",
                      "link_context",
                      "get_context",
                      "search",
                      "end",
                      "archive"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_verify": {
      "post": {
        "summary": "Verify actions against critical guidelines with active intervention.",
        "description": "Verify actions against critical guidelines with active intervention.\n\nActions:\n- pre_check: REQUIRED before file modifications or code generation. Returns {blocked: true} if violation detected.\n- post_check: Log completed action for compliance tracking\n- acknowledge: Acknowledge critical guidelines for session\n- status: Get verification status for a session\n\nIMPORTANT: Agents MUST call pre_check before significant actions.\nIf blocked=true is returned, DO NOT proceed with the action.",
        "operationId": "memory_verify",
        "tags": [
          "verify"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sessionId": {
                    "type": "string",
                    "description": "Current session ID"
                  },
                  "projectId": {
                    "type": "string",
                    "description": "Project ID (optional, derived from session if not provided)"
                  },
                  "proposedAction": {
                    "type": "object",
                    "description": "Action to verify (pre_check)",
                    "properties": {
                      "type": {
                        "type": "string",
                        "description": "Type of action",
                        "enum": [
                          "file_write",
                          "code_generate",
                          "api_call",
                          "command",
                          "other"
                        ]
                      },
                      "description": {
                        "type": "string",
                        "description": "Description of action"
                      },
                      "filePath": {
                        "type": "string",
                        "description": "File path (if applicable)"
                      },
                      "content": {
                        "type": "string",
                        "description": "Content being created/modified"
                      },
                      "metadata": {
                        "type": "object",
                        "description": "Additional metadata"
                      }
                    },
                    "required": [
                      "type"
                    ]
                  },
                  "completedAction": {
                    "type": "object",
                    "description": "Completed action to log (post_check)"
                  },
                  "content": {
                    "type": "string",
                    "description": "Response content to verify (post_check alternative)"
                  },
                  "guidelineIds": {
                    "type": "array",
                    "description": "Guideline IDs to acknowledge (acknowledge)",
                    "items": {
                      "type": "string"
                    }
                  },
                  "agentId": {
                    "type": "string",
                    "description": "Agent identifier"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "pre_check",
                      "post_check",
                      "acknowledge",
                      "status"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_hook": {
      "post": {
        "summary": "Generate and manage IDE verification hooks.",
        "description": "Generate and manage IDE verification hooks.\n\nActions:\n- generate: Generate hook files without installing (returns content and instructions)\n- install: Generate and install hooks to the filesystem\n- status: Check if hooks are installed for a project\n- uninstall: Remove installed hooks\n\nSupported IDEs: claude (Claude Code), cursor (Cursor), vscode (VS Code)",
        "operationId": "memory_hook",
        "tags": [
          "hook"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "ide": {
                    "type": "string",
                    "description": "Target IDE",
                    "enum": [
                      "claude",
                      "cursor",
                      "vscode"
                    ]
                  },
                  "projectPath": {
                    "type": "string",
                    "description": "Absolute path to the project directory"
                  },
                  "projectId": {
                    "type": "string",
                    "description": "Project ID for loading guidelines (optional)"
                  },
                  "sessionId": {
                    "type": "string",
                    "description": "Session ID for loading guidelines (optional)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "generate",
                      "install",
                      "status",
                      "uninstall"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action",
                  "ide",
                  "projectPath"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_observe": {
      "post": {
        "summary": "Extract memory entries from conversation/code context using LLM analysis.",
        "description": "Extract memory entries from conversation/code context using LLM analysis.\n\nActions:\n- extract: Analyze context and extract guidelines, knowledge, and tool patterns\n- draft: Return strict schema + prompt template for client-assisted extraction\n- commit: Store client-extracted entries (supports auto-promote)\n- status: Check extraction service availability\n\nWhen to use: After meaningful conversations or code reviews to capture decisions, facts, and patterns.\nExample: {\"action\":\"extract\",\"context\":\"User said we should always use TypeScript strict mode...\",\"scopeType\":\"project\",\"scopeId\":\"proj-123\",\"autoStore\":true}\n\nReturns extracted entries with confidence scores and duplicate detection.",
        "operationId": "memory_observe",
        "tags": [
          "observe"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "context": {
                    "type": "string",
                    "description": "Raw conversation or code context to analyze"
                  },
                  "contextType": {
                    "type": "string",
                    "description": "Type of context (default: mixed)",
                    "enum": [
                      "conversation",
                      "code",
                      "mixed"
                    ]
                  },
                  "scopeType": {
                    "type": "string",
                    "description": "Scope for extracted entries (default: project)",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string",
                    "description": "Scope ID (required for non-global scopes)"
                  },
                  "autoStore": {
                    "type": "boolean",
                    "description": "Automatically store entries above confidence threshold (default: false)"
                  },
                  "confidenceThreshold": {
                    "type": "number",
                    "description": "Minimum confidence to auto-store (0-1, default: 0.7)"
                  },
                  "focusAreas": {
                    "type": "array",
                    "description": "Focus extraction on specific types",
                    "items": {
                      "type": "string",
                      "enum": [
                        "decisions",
                        "facts",
                        "rules",
                        "tools"
                      ]
                    }
                  },
                  "agentId": {
                    "type": "string",
                    "description": "Agent identifier for audit"
                  },
                  "sessionId": {
                    "type": "string",
                    "description": "Session ID (required for draft/commit)"
                  },
                  "projectId": {
                    "type": "string",
                    "description": "Project ID (optional, enables project auto-promote)"
                  },
                  "entries": {
                    "type": "array",
                    "description": "Client-extracted entries (required for commit)",
                    "items": {
                      "type": "object"
                    }
                  },
                  "autoPromote": {
                    "type": "boolean",
                    "description": "If true, entries above threshold can be stored at project scope when projectId is provided (default: on)"
                  },
                  "autoPromoteThreshold": {
                    "type": "number",
                    "description": "Confidence threshold for auto-promotion (0-1, default: 0.85)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "extract",
                      "draft",
                      "commit",
                      "status"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_consolidate": {
      "post": {
        "summary": "Consolidate similar memory entries to reduce redundancy and improve coherence.",
        "description": "Consolidate similar memory entries to reduce redundancy and improve coherence.\n\nActions:\n- find_similar: Find groups of semantically similar entries (dry run)\n- dedupe: Remove near-duplicates, keeping the primary entry\n- merge: Combine content from similar entries into one\n- abstract: Create relations between similar entries without modifying them\n- archive_stale: Archive entries older than staleDays (based on recency decay)\n\nUse this when memory has accumulated many similar entries that should be consolidated.\nExample: {\"action\":\"find_similar\",\"scopeType\":\"project\",\"scopeId\":\"proj-123\",\"threshold\":0.85}\nExample: {\"action\":\"archive_stale\",\"scopeType\":\"project\",\"scopeId\":\"proj-123\",\"staleDays\":90,\"dryRun\":true}",
        "operationId": "memory_consolidate",
        "tags": [
          "consolidate"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "scopeType": {
                    "type": "string",
                    "description": "Scope type to consolidate within",
                    "enum": [
                      "global",
                      "org",
                      "project",
                      "session"
                    ]
                  },
                  "scopeId": {
                    "type": "string",
                    "description": "Scope ID (required for non-global scopes)"
                  },
                  "entryTypes": {
                    "type": "array",
                    "description": "Entry types to consolidate (default: all)",
                    "items": {
                      "type": "string",
                      "enum": [
                        "tool",
                        "guideline",
                        "knowledge"
                      ]
                    }
                  },
                  "threshold": {
                    "type": "number",
                    "description": "Similarity threshold 0-1 (default: 0.85). Higher = stricter matching."
                  },
                  "staleDays": {
                    "type": "number",
                    "description": "For archive_stale: entries older than this (in days) are considered stale"
                  },
                  "minRecencyScore": {
                    "type": "number",
                    "description": "For archive_stale: only archive if recencyScore is below this (0-1)"
                  },
                  "limit": {
                    "type": "number",
                    "description": "Maximum number of groups to process (default: 20)"
                  },
                  "dryRun": {
                    "type": "boolean",
                    "description": "If true, only report what would be consolidated without making changes"
                  },
                  "consolidatedBy": {
                    "type": "string",
                    "description": "Agent/user identifier for audit trail"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "find_similar",
                      "dedupe",
                      "merge",
                      "abstract",
                      "archive_stale"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    },
    "/v1/tools/memory_review": {
      "post": {
        "summary": "Review candidate memory entries from a session.",
        "description": "Review candidate memory entries from a session.\n\nActions:\n- list: List all candidates pending review in a session\n- show: Show full details of a specific candidate\n- approve: Promote candidate to project scope\n- reject: Deactivate/reject candidate\n- skip: Remove from review queue without action\n\nUse this tool to review entries extracted during a session before promoting them to project scope.\nExample: {\"action\":\"list\",\"sessionId\":\"sess-123\"}",
        "operationId": "memory_review",
        "tags": [
          "review"
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "sessionId": {
                    "type": "string",
                    "description": "Session ID to review candidates from"
                  },
                  "entryId": {
                    "type": "string",
                    "description": "Entry ID or short ID (for show, approve, reject, skip)"
                  },
                  "projectId": {
                    "type": "string",
                    "description": "Target project ID for approved entries (optional, derived from session if not provided)"
                  },
                  "action": {
                    "type": "string",
                    "enum": [
                      "list",
                      "show",
                      "approve",
                      "reject",
                      "skip"
                    ],
                    "description": "Action to perform"
                  }
                },
                "required": [
                  "action",
                  "sessionId"
                ]
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Success",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "data": {
                      "type": "object"
                    }
                  }
                },
                "example": {
                  "success": true,
                  "data": {}
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Invalid parameters",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E1000",
                    "message": "Invalid request parameters"
                  }
                }
              }
            }
          },
          "401": {
            "description": "Unauthorized - Invalid or missing authentication",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6001",
                    "message": "Authentication required"
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Insufficient permissions",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E6000",
                    "message": "Permission denied"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Resource does not exist",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E2001",
                    "message": "Resource not found"
                  }
                }
              }
            }
          },
          "429": {
            "description": "Too Many Requests - Rate limit exceeded",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": {
                      "type": "boolean"
                    },
                    "error": {
                      "type": "object",
                      "properties": {
                        "code": {
                          "type": "string"
                        },
                        "message": {
                          "type": "string"
                        }
                      }
                    }
                  }
                },
                "example": {
                  "success": false,
                  "error": {
                    "code": "E9000",
                    "message": "Rate limit exceeded"
                  }
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          },
          {
            "apiKey": []
          }
        ]
      }
    }
  },
  "tags": [
    {
      "name": "tools",
      "description": "Tool management and listing"
    },
    {
      "name": "meta",
      "description": "API metadata and documentation"
    },
    {
      "name": "org",
      "description": "Organization management"
    },
    {
      "name": "project",
      "description": "Project management"
    },
    {
      "name": "session",
      "description": "Session management"
    },
    {
      "name": "knowledge",
      "description": "Knowledge entry management"
    },
    {
      "name": "guideline",
      "description": "Guideline management"
    },
    {
      "name": "tool",
      "description": "Tool registry management"
    },
    {
      "name": "tag",
      "description": "Tag management"
    },
    {
      "name": "relation",
      "description": "Relationship management"
    },
    {
      "name": "query",
      "description": "Search and query operations"
    },
    {
      "name": "task",
      "description": "Task decomposition"
    },
    {
      "name": "voting",
      "description": "Multi-agent voting"
    },
    {
      "name": "analytics",
      "description": "Analytics and metrics"
    },
    {
      "name": "permission",
      "description": "Permission management"
    },
    {
      "name": "conflict",
      "description": "Conflict resolution"
    },
    {
      "name": "health",
      "description": "Health checks"
    },
    {
      "name": "backup",
      "description": "Backup and restore"
    },
    {
      "name": "init",
      "description": "System initialization"
    },
    {
      "name": "export",
      "description": "Data export"
    },
    {
      "name": "import",
      "description": "Data import"
    },
    {
      "name": "conversation",
      "description": "Conversation history"
    },
    {
      "name": "verify",
      "description": "Data verification"
    },
    {
      "name": "hook",
      "description": "Hook management"
    },
    {
      "name": "observe",
      "description": "Auto-capture observations"
    },
    {
      "name": "consolidate",
      "description": "Memory consolidation"
    },
    {
      "name": "review",
      "description": "Review candidates"
    },
    {
      "name": "lock",
      "description": "File lock management"
    }
  ]
}